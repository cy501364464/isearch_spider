# -*- coding:utf-8 -*-
str_a ='''[u'<span id="comp_3768"> \r\n \r\n\r\n<table width="100%" height="30" border="0" cellpadding="0" cellspacing="0" background="../template/3217/59705.jpg">\r\n                      <tr>\r\n                        <td width="120" align="center" class="sv_blue14_bold"
style="border-top:#0066CC solid 3px">\u901a\u77e5\u516c\u544a</td>\r\n                        <td align="right" style="padding-right:10px;">\xa0</td>\r\n                      </tr>\r\n                    </table>\r\n\r\n\r\n\r\n                      <table width="1
00%" border="0" cellpadding="0" cellspacing="0" class="sv_black14_30">\r\n                        <tr>\r\n                          <td style="padding:10px">\r\n\r\n\r\n<table width="100%" border="0" cellspacing="0" cellpadding="0">\r\n
 <tr>\r\n                                <td width="13" align="center">\xb7</td>\r\n                                <td><a href="../n157/c6804066/content.html" target="_blank">\u56fd\u9632\u79d1\u5de5\u5c40\u5173\u4e8e\u5370\u53d1\u300a\u56fd\u9632\u79d1\u6280\u91c
d\u70b9\u5b9e\u9a8c\u5ba4\u7a33\u5b9a\u652f\u6301\u79d1\u7814\u7ba1\u7406\u6682\u884c\u529e\u6cd5\u300b\u7684\u901a\u77e5</a></td>\r\n                                <td width="120" align="center">[11-20]</td>\r\n                              </tr>\r\n\r\n
                   </table>\r\n<table width="100%" border="0" cellspacing="0" cellpadding="0">\r\n                              <tr>\r\n                                <td width="13" align="center">\xb7</td>\r\n                                <td><a href="../n157/c
6803812/content.html" target="_blank">\u5173\u4e8e\u6539\u9769\u5f00\u653e\u6770\u51fa\u8d21\u732e\u8868\u5f70\u63a8\u8350\u4eba\u9009\u7684\u516c\u793a</a></td>\r\n                                <td width="120" align="center">[11-08]</td>\r\n
         </tr>\r\n\r\n                            </table>\r\n<table width="100%" border="0" cellspacing="0" cellpadding="0">\r\n                              <tr>\r\n                                <td width="13" align="center">\xb7</td>\r\n
         <td><a href="../n157/c6803651/content.html" target="_blank">\u76f4\u64ad\u56de\u653e\uff1a\u7b2c\u4e5d\u5c4a\u4e2d\u56fd\u56fd\u9645\u822a\u7a7a\u822a\u5929\u9ad8\u5cf0\u8bba\u575b</a></td>\r\n                                <td width="120" align="center">
[11-05]</td>\r\n                              </tr>\r\n\r\n                            </table>\r\n<table width="100%" border="0" cellspacing="0" cellpadding="0">\r\n                              <tr>\r\n                                <td width="13" align="center"
>\xb7</td>\r\n                                <td><a href="../n157/c6803624/content.html" target="_blank">\u5173\u4e8e2018\u5e74\u519b\u5de5\u6280\u672f\u63a8\u5e7f\u4e13\u9879\u5956\u52b1\u6027\u540e\u8865\u52a9\u9879\u76ee\u7684\u516c\u793a</a></td>\r\n
                      <td width="120" align="center">[11-01]</td>\r\n                              </tr>\r\n\r\n                            </table>\r\n<table width="100%" border="0" cellspacing="0" cellpadding="0">\r\n                              <tr>\r\n
                        <td width="13" align="center">\xb7</td>\r\n                                <td><a href="../n157/c6803525/content.html" target="_blank">\u56fd\u5bb6\u539f\u5b50\u80fd\u673a\u6784\u3001\u5546\u52a1\u90e8\u3001\u5916\u4ea4\u90e8\u3001\u6d77\u51
73\u603b\u7f72\u516c\u544a\u7b2c2018\u5e74\u7b2c1\u53f7 \u53d1\u5e03\u300a\u6838\u51fa\u53e3\u7ba1\u5236</a></td>\r\n                                <td width="120" align="center">[10-29]</td>\r\n                              </tr>\r\n\r\n
  </table>\r\n<table width="100%" border="0" cellspacing="0" cellpadding="0">\r\n                              <tr>\r\n                                <td width="13" align="center">\xb7</td>\r\n                                <td><a href="../n157/c6803473/content.h
tml" target="_blank">\u5173\u4e8e\u6c11\u7528\u822a\u5929\u201c\u5341\u4e09\u4e94\u201d\u6280\u672f\u9884\u5148\u7814\u7a76\u7b2c\u4e8c\u6279\u6307\u5357B\u7c7b\u9879\u76ee\u8bc4\u4f30\u7ed3\u679c\u7684\u516c\u793a</a></td>\r\n                                <td wi
dth="120" align="center">[10-24]</td>\r\n                              </tr>\r\n\r\n                            </table>\r\n<table width="100%" border="0" cellspacing="0" cellpadding="0">\r\n                              <tr>\r\n                                <td
width="13" align="center">\xb7</td>\r\n                                <td><a href="../n157/c6803083/content.html" target="_blank">\u5173\u4e8e\u6c11\u7528\u822a\u5929\u201c\u5341\u4e09\u4e94\u201d\u6280\u672f\u9884\u5148\u7814\u7a76\u7b2c\u4e8c\u6279\u6307\u5357B\
u7c7b\u9879\u76ee\u521d\u5ba1\u7684\u516c\u793a</a></td>\r\n                                <td width="120" align="center">[09-20]</td>\r\n                              </tr>\r\n\r\n                            </table>\r\n<table width="100%" border="0" cellspacing=
"0" cellpadding="0">\r\n                              <tr>\r\n                                <td width="13" align="center">\xb7</td>\r\n                                <td><a href="../n157/c6803015/content.html" target="_blank">\u5173\u4e8e2018\u5e74\u7b2c\u4e09\u
5b63\u5ea6\u7f51\u7ad9\u62bd\u67e5\u60c5\u51b5\u7684\u62a5\u544a</a></td>\r\n                                <td width="120" align="center">[09-18]</td>\r\n                              </tr>\r\n\r\n                            </table>\r\n<table width="100%" border
="0" cellspacing="0" cellpadding="0">\r\n                              <tr>\r\n                                <td width="13" align="center">\xb7</td>\r\n                                <td><a href="../n157/c6802358/content.html" target="_blank">\u56fd\u9632\u79d1\
u5de5\u5c402017\u5e74\u5ea6\u201c\u4e09\u516c\u201d\u7ecf\u8d39\u8d22\u653f\u62e8\u6b3e\u51b3\u7b97</a></td>\r\n                                <td width="120" align="center">[07-20]</td>\r\n                              </tr>\r\n\r\n                            </t
able>\r\n<table width="100%" border="0" cellspacing="0" cellpadding="0">\r\n                              <tr>\r\n                                <td width="13" align="center">\xb7</td>\r\n                                <td><a href="../n157/c6802360/content.html"
target="_blank">\u56fd\u9632\u79d1\u5de5\u5c40\u5173\u4e8e\u5370\u53d1\u6c11\u7528\u822a\u5929\u201c\u5341\u4e09\u4e94\u201d\u6280\u672f\u9884\u5148\u7814\u7a76\u7b2c\u4e8c\u6279\u9879\u76ee\u6307\u5357\u7684\u901a\u77e5</a></td>\r\n
<td width="120" align="center">[07-18]</td>\r\n                              </tr>\r\n\r\n                            </table>\r\n<table width="100%" border="0" cellspacing="0" cellpadding="0">\r\n                              <tr>\r\n
  <td width="13" align="center">\xb7</td>\r\n                                <td><a href="../n157/c6802268/content.html" target="_blank">\u56fd\u9632\u79d1\u5de5\u5c40\u7efc\u5408\u53f8 \u77e5\u8bc6\u4ea7\u6743\u5c40\u529e\u516c\u5ba4\u5173\u4e8e\u5370\u53d1\u56fd\
u9632\u79d1\u6280\u5de5\u4e1a\u77e5\u8bc6\u4ea7\u6743\u8f6c\u5316\u76ee\u5f55\uff08\u7b2c\u56db\u6279\uff09</a></td>\r\n                                <td width="120" align="center">[07-18]</td>\r\n                              </tr>\r\n\r\n
     </table>\r\n<table width="100%" border="0" cellspacing="0" cellpadding="0">\r\n                              <tr>\r\n                                <td width="13" align="center">\xb7</td>\r\n                                <td><a href="../n157/c6802267/conten
t.html" target="_blank">\u5173\u4e8e\u53d1\u5e03\u706b\u70b8\u836f\u79d1\u7814\u4e13\u9879\u201c\u5341\u4e09\u4e94\u201d\u7b2c\u4e09\u6279\u6307\u5357\u7684\u901a\u544a</a></td>\r\n                                <td width="120" align="center">[07-13]</td>\r\n
                         </tr>\r\n\r\n                            </table>\r\n\r\n\r\n\r\n</td>\r\n                        </tr>\r\n                      </table>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n </span>']
'''

import re
'''
patten_ip =  re.compile(r'<td>\d+.\d+.\d+.\d+</td>')
patten_port =  re.compile('<td>\d+</td>')
patten_http =  re.compile('<td>HTT\w+</td>')
list_ip = patten_ip.findall(str_a)
list_port = patten_port.findall(str_a)
list_http = patten_http.findall(str_a)
proxy_list = []
for i in range(100):
    tmp_dict = {}
    tmp_str = list_http[i][4:-5].lower()+'://' + list_ip[i][4:-5]+ ':'+list_port[i][4:-5]
    tmp_dict['url'] = tmp_str
    tmp_dict['user_pass'] = ''
    proxy_list.append(tmp_dict)
    #print tmp_dict
print proxy_list
print '['
for i,enumera in enumerate(proxy_list):
    print str(enumera) + ','
print ']'
'''

href = '''<a href="newsInfoWebMessage.action?newsId=10741377&amp;moduleId=1062" '''
url_patten = re.compile(r'newsInfoWebMessage\.action\?newsId=\d+&moduleId=\d+')
print url_patten.findall(href)
patten_list =  re.compile('/n\d+/c\d+/content\.html')
list_url = patten_list.findall(str_a)
print list_url
error_url = 'http://jmjh.miit.gov.cn/newsInfoWebMessage.action?newsId=12829692&moduleId=1062'
url_ = re.sub(r'&amp;', '&', error_url)
print url_